function domSticker(n) {
	var f = n.parentNode.className,
		i = 1;
	f.match(/(js\-emoji|bbWrapper|bbCodeBlock\-expandContent)/ig) && (i = 1);
	var t = n.naturalWidth - 1 + i
		, p = 65
		, r = Math.floor(t / n.width /2)
		, e = n.src
		, u = p * r;
	t = u;
	n.setAttribute("style", "--animatewidth:-" + t + "px;animation: AnimateSticker 1.5s steps(" + r + ") infinite;background-size: " + u + 'px 65px;background-image: url("' + e + '");content:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=");background-position: 0% 0%;')
}

function loadSticker() {
	document.querySelectorAll('img[src*="AnimajiXen"]').forEach(function(n) {
		var f = n.parentNode.className
			, i = 1;
		f.match(/(js\-emoji|bbWrapper|bbCodeBlock\-expandContent)/ig) && (i = 1);
		var t = n.naturalWidth - 1 + i
			, p = 65
			, r = Math.floor(t / n.width /2 )
			, e = n.src
			, u = p * r;
		t = u;
		n.setAttribute("style", "--animatewidth:-" + t + "px;animation: AnimateSticker 1.5s steps(" + r + ") infinite;background-size: " + u + 'px 65px;background-image: url("' + e + '");;background-position: 0% 0%; content:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=")')
	})
}
$("body").on("mouseenter touchstart taphold", 'img[src*="AnimajiXen"]', function() {
	domSticker(this)
});
var observer = new MutationObserver(function(n) {
	n.forEach(function(n) {
		n.target.tagName === "IMG" && n.target.src.match(/AnimajiXen/ig) && !n.target.getAttribute("onload") && (console.log("wait"), n.target.setAttribute("onload", "domSticker(this)"))
	})
});
observer.observe(document.querySelector("body"), {
	childList: !0,
	subtree: !0,
	attributes: !0
});
loadSticker()
